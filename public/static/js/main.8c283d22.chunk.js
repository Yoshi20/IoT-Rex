(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{121:function(e,a,t){},122:function(e,a,t){},123:function(e,a,t){},124:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(6),i=t.n(c),s=t(7);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(82),l=t(155),u=t(12),d=t(13),p=t(15),m=t(14),_=t(16),b=t(29),h=t(27),v=t(83);function f(e){var a=e.children,t=Object(v.a)(e,["children"]),r=Object(s.d)((function(e){return e.user.loggedIn}));return n.a.createElement(h.b,Object.assign({},t,{render:function(e){var t=e.location;return r?a:n.a.createElement(h.a,{to:{pathname:"/login",state:{from:t}}})}}))}var g=t(150),E=t(154),O=t(71),j=t.n(O),w=t(37),N=t.n(w),y=t(51),C=t(70),k=t(52),x=t.n(k);function T(e,a){return x.a.post("/api/v1/login",{user:{email:e,password:a}})}function B(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?B(t,!0).forEach((function(a){Object(C.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var P="USER_LOGIN",S="USER_LOGOUT",D={loggedIn:!1,authToken:null,email:"",id:-1};function z(e){return{type:P,payload:e}}var L=t(38),W=t.n(L);function F(){var e=Object(s.c)(),a=Object(h.g)(),t=Object(h.h)("/");return Object(h.h)("/login")?null:n.a.createElement("div",{className:W.a.top_bar},n.a.createElement("div",{className:W.a.top_bar__left},!t.isExact&&n.a.createElement(g.a,{"aria-label":"Dashboard",onClick:function(){return a.push("/")}},n.a.createElement(j.a,{style:{width:"4.5rem",height:"4.5rem",color:"#6d7993"}}))),n.a.createElement("div",{className:W.a.top_bar__left},n.a.createElement(E.a,{"aria-label":"logout",onClick:function(){return e(function(){var e=Object(y.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.delete("/api/v1/logout");case 3:localStorage.removeItem("user"),a({type:S}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}())}},n.a.createElement("div",{className:W.a.logout_button},"Logout"))))}var J=t(5),U=t(156),G=(t(121),t(72)),H=t.n(G),M=function(e){function a(){return Object(u.a)(this,a),Object(p.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.classes,r=a.history,c=a.location,i="",s="";return this.props.loggedIn?n.a.createElement(h.a,{to:{pathname:"/",state:{from:c}}}):n.a.createElement("div",{className:H.a.login},n.a.createElement("h1",{className:"header_big"},"Login"),n.a.createElement("div",null,n.a.createElement(U.a,{id:"standard-basic",className:t.textField,label:"E-Mail",margin:"normal",type:"email",onChange:function(e){i=e.target.value},InputProps:{classes:{input:t.resize}},InputLabelProps:{classes:{root:t.resize}}})),n.a.createElement("div",null,n.a.createElement(U.a,{id:"standard-password-input",label:"Password",className:t.textField,type:"password",autoComplete:"current-password",margin:"normal",onChange:function(e){s=e.target.value},InputProps:{classes:{input:t.resize}},InputLabelProps:{classes:{root:t.resize}}})),n.a.createElement(E.a,{variant:"contained",color:"primary",classes:{label:t.resize},className:t.button,onClick:function(){e.props.userLogin(i,s).then((function(){return r.replace("/")}))}},"Login"))}}]),a}(n.a.Component);var R={userLogin:function(e,a){return function(){var t=Object(y.a)(N.a.mark((function t(r){var n,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e,a);case 3:n=t.sent,c=I({},n.data,{authToken:n.headers.authorization}),localStorage.setItem("user",JSON.stringify(c)),r(z(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},Z=Object(s.b)((function(e){return{loggedIn:e.user.loggedIn}}),R)(Object(J.a)({button:{marginTop:"8rem",padding:"0 4rem",width:"40rem"},textField:{marginTop:"4rem",width:"40rem"},resize:{fontSize:"2rem"}})(Object(h.i)(M))),q=t(73),X=t.n(q),Y=t(74),$=t.n(Y),A=t(75),K=t.n(A),Q=t(76),V=t.n(Q),ee=t(77),ae=t.n(ee),te=t(46),re=t.n(te);function ne(e){var a=e.mainTitle,t=e.subTitle;return n.a.createElement("div",{className:re.a.site_header},n.a.createElement("div",{className:re.a.site_header__sub},t,"\xa0"),n.a.createElement("div",{className:re.a.site_header__main},a))}var ce=t(39),ie=t.n(ce);function se(e){var a=e.title,t=e.icon,r=e.targetPath,c=void 0===r?"/":r,i=Object(h.g)();return n.a.createElement("div",{className:ie.a.dashBoardCardWrapper,onClick:function(){return i.push(c)}},n.a.createElement("div",{className:ie.a.dashBoardCard},n.a.createElement("div",{className:ie.a.dashBoardCard__title},a,"\xa0"),n.a.createElement("div",{className:ie.a.dashBoardCard__image,style:{backgroundImage:"url(".concat(t,")")}})))}t(28);var oe=t(78),le=t.n(oe),ue=function(e){function a(){return Object(u.a)(this,a),Object(p.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"screen_wrapper"},n.a.createElement("div",{className:"screen_wrapper__left"}),n.a.createElement("div",{className:"screen_wrapper__center"},n.a.createElement(ne,{mainTitle:"Dashboard",subTitle:"Organisatioin"}),n.a.createElement("div",{className:le.a.dash_board_cards},n.a.createElement(se,{title:"Ger\xe4te",icon:X.a,targetPath:"/devices"}),n.a.createElement(se,{title:"Organisation",icon:K.a,targetPath:"/organisation"}),n.a.createElement(se,{title:"Events",icon:$.a,targetPath:"/events"}),n.a.createElement(se,{title:"Zonen",icon:ae.a,targetPath:"/zones"}),n.a.createElement(se,{title:"Einstellungen",icon:V.a,targetPath:"/settings"}))),n.a.createElement("div",{className:"screen_wrapper__right"}))}}]),a}(n.a.Component);var de=Object(s.b)((function(e){return{}}),{})(ue),pe=function(e){function a(){return Object(u.a)(this,a),Object(p.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"screen_wrapper"},n.a.createElement("div",{className:"screen_wrapper__left"}),n.a.createElement("div",{className:"screen_wrapper__center"},n.a.createElement(ne,{mainTitle:"Meine Ger\xe4te"})),n.a.createElement("div",{className:"screen_wrapper__right"}))}}]),a}(n.a.Component);var me=Object(s.b)((function(e){return{}}),{})(pe),_e=function(e){function a(){return Object(u.a)(this,a),Object(p.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"screen_wrapper"},n.a.createElement("div",{className:"screen_wrapper__left"}),n.a.createElement("div",{className:"screen_wrapper__center"},n.a.createElement(ne,{mainTitle:"Organisation"})),n.a.createElement("div",{className:"screen_wrapper__right"}))}}]),a}(n.a.Component);var be=Object(s.b)((function(e){return{}}),{})(_e),he=function(e){function a(){return Object(u.a)(this,a),Object(p.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"screen_wrapper"},n.a.createElement("div",{className:"screen_wrapper__left"}),n.a.createElement("div",{className:"screen_wrapper__center"},n.a.createElement(ne,{mainTitle:"Events"})),n.a.createElement("div",{className:"screen_wrapper__right"}))}}]),a}(n.a.Component);var ve=Object(s.b)((function(e){return{}}),{})(he),fe=function(e){function a(){return Object(u.a)(this,a),Object(p.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"screen_wrapper"},n.a.createElement("div",{className:"screen_wrapper__left"}),n.a.createElement("div",{className:"screen_wrapper__center"},n.a.createElement(ne,{mainTitle:"Zonen"})),n.a.createElement("div",{className:"screen_wrapper__right"}))}}]),a}(n.a.Component);var ge=Object(s.b)((function(e){return{}}),{})(fe),Ee=function(e){function a(){return Object(u.a)(this,a),Object(p.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"screen_wrapper"},n.a.createElement("div",{className:"screen_wrapper__left"}),n.a.createElement("div",{className:"screen_wrapper__center"},n.a.createElement(ne,{mainTitle:"Einstellungen"})),n.a.createElement("div",{className:"screen_wrapper__right"}))}}]),a}(n.a.Component);var Oe=Object(s.b)((function(e){return{}}),{})(Ee),je=function(e){function a(){return Object(u.a)(this,a),Object(p.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"screen_wrapper"},n.a.createElement("div",{className:"screen_wrapper__left"}),n.a.createElement("div",{className:"screen_wrapper__center"},n.a.createElement(ne,{mainTitle:"Seite nicht gefunden",subTitle:"Error 404"})),n.a.createElement("div",{className:"screen_wrapper__right"}))}}]),a}(n.a.Component);var we=Object(s.b)((function(e){return{}}),{})(je),Ne=t(79),ye=t.n(Ne);function Ce(){return n.a.createElement("div",{className:ye.a.top_bar})}t(122);var ke=function(e){function a(){return Object(u.a)(this,a),Object(p.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(b.a,null,n.a.createElement("div",{className:"app_root"},n.a.createElement(F,null),n.a.createElement(h.d,null,n.a.createElement(h.b,{exact:!0,path:"/login",component:Z}),n.a.createElement(f,{exact:!0,path:"/"},n.a.createElement(de,null)),n.a.createElement(f,{path:"/devices"},n.a.createElement(me,null)),n.a.createElement(f,{path:"/organisation"},n.a.createElement(be,null)),n.a.createElement(f,{path:"/events"},n.a.createElement(ve,null)),n.a.createElement(f,{path:"/zones"},n.a.createElement(ge,null)),n.a.createElement(f,{path:"/settings"},n.a.createElement(Oe,null)),n.a.createElement(f,{path:"*"},n.a.createElement(we,null))),n.a.createElement(Ce,null)))}}]),a}(n.a.Component);var xe=Object(s.b)((function(e){return{loggedIn:e.user.loggedIn}}),{})(ke),Te=t(33),Be=t(80),Ie=t(81),Pe=t.n(Ie),Se=Object(Te.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case P:var t=a.payload;return I({},e,{id:t.id,email:t.email,authToken:t.authToken,loggedIn:!0});case S:return I({},D);default:return e}}}),De=function(e){var a=[Be.a,Pe.a];return Object(Te.d)(Se,e,Te.a.apply(void 0,a))},ze=(t(123),Object(o.a)({palette:{primary:{main:"#6d7993"},secondary:{main:"#054b1a"}}})),Le=De();Le.dispatch((function(e){var a=JSON.parse(localStorage.getItem("user"));console.log(a),a&&e(z(a))})),i.a.render(n.a.createElement(s.a,{store:Le},n.a.createElement(l.a,{theme:ze},n.a.createElement(xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},28:function(e,a,t){},38:function(e,a,t){e.exports={header_big:"TopBar_header_big__33WeM",top_bar:"TopBar_top_bar__vPp2y",logout_button:"TopBar_logout_button__2PUTt"}},39:function(e,a,t){e.exports={header_big:"DashBoardCard_header_big__3JM0h",dashBoardCardWrapper:"DashBoardCard_dashBoardCardWrapper__NXbaI",dashBoardCard:"DashBoardCard_dashBoardCard__2EE5_",dashBoardCard__title:"DashBoardCard_dashBoardCard__title__1NTOq",dashBoardCard__image:"DashBoardCard_dashBoardCard__image__5pI2o"}},46:function(e,a,t){e.exports={header_big:"SiteHeader_header_big__1pk4x",site_header:"SiteHeader_site_header__kDwIb",site_header__main:"SiteHeader_site_header__main__5UDnc",site_header__sub:"SiteHeader_site_header__sub__30e5S"}},72:function(e,a,t){e.exports={login:"LoginScreen_login__1kYxy"}},73:function(e,a,t){e.exports=t.p+"static/media/dash-board_dev.ac732079.svg"},74:function(e,a,t){e.exports=t.p+"static/media/dash-board_event.119dbc98.svg"},75:function(e,a,t){e.exports=t.p+"static/media/dash-board_org.d544042d.svg"},76:function(e,a,t){e.exports=t.p+"static/media/dash-board_settings.1b6ade15.svg"},77:function(e,a,t){e.exports=t.p+"static/media/dash-board_zone.1e406d73.svg"},78:function(e,a,t){e.exports={dash_board_cards:"DashboardScreen_dash_board_cards__2DoWC"}},79:function(e,a,t){e.exports={header_big:"Footer_header_big__yzNn0",top_bar:"Footer_top_bar__2bO-I"}},91:function(e,a,t){e.exports=t(124)}},[[91,1,2]]]);
//# sourceMappingURL=main.8c283d22.chunk.js.map